"use strict";(globalThis.webpackChunkshellui_docs=globalThis.webpackChunkshellui_docs||[]).push([[439],{1184(e,n,i){i.d(n,{R:()=>t,x:()=>c});var s=i(4041);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}},7964(e,n,i){i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"features/cookie-consent","title":"Cookie Consent","description":"ShellUI provides a privacy-friendly cookie consent management system that helps you comply with privacy regulations while giving users control over their data.","source":"@site/../../docs/features/cookie-consent.md","sourceDirName":"features","slug":"/features/cookie-consent","permalink":"/features/cookie-consent","draft":false,"unlisted":false,"editUrl":"https://github.com/shellui/shellui/tree/main/../../docs/features/cookie-consent.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Alert Dialogs","permalink":"/features/dialogs"},"next":{"title":"Service Worker","permalink":"/features/service-worker"}}');var r=i(1085),o=i(1184);const t={},c="Cookie Consent",l={},a=[{value:"Configuration",id:"configuration",level:2},{value:"Cookie Categories",id:"cookie-categories",level:2},{value:"Strict Necessary",id:"strict-necessary",level:3},{value:"Functional Performance",id:"functional-performance",level:3},{value:"Targeting",id:"targeting",level:3},{value:"Social Media Embedded",id:"social-media-embedded",level:3},{value:"Cookie Definition",id:"cookie-definition",level:2},{value:"Localized Descriptions",id:"localized-descriptions",level:2},{value:"Consent Flow",id:"consent-flow",level:2},{value:"Checking Consent Status",id:"checking-consent-status",level:2},{value:"In React Components",id:"in-react-components",level:3},{value:"Programmatically",id:"programmatically",level:3},{value:"Complete Example",id:"complete-example",level:2},{value:"Cookie Preferences",id:"cookie-preferences",level:2},{value:"Consent Renewal",id:"consent-renewal",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Feature Gating Example",id:"feature-gating-example",level:2},{value:"Privacy Compliance",id:"privacy-compliance",level:2},{value:"Related Guides",id:"related-guides",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"cookie-consent",children:"Cookie Consent"})}),"\n",(0,r.jsx)(n.p,{children:"ShellUI provides a privacy-friendly cookie consent management system that helps you comply with privacy regulations while giving users control over their data."}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.p,{children:"Configure cookie consent in your ShellUI configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import type { ShellUIConfig } from '@shellui/core';\n\nconst config: ShellUIConfig = {\n  cookieConsent: {\n    cookies: [\n      {\n        name: 'Sentry Error Reporting',\n        host: 'sentry.io',\n        durationSeconds: 31536000, // 1 year\n        type: 'third_party',\n        category: 'functional_performance',\n        description: {\n          en: 'Helps us fix errors and improve stability.',\n          fr: 'Nous aide \xe0 corriger les erreurs et \xe0 am\xe9liorer la stabilit\xe9.',\n        },\n      },\n    ],\n  },\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cookie-categories",children:"Cookie Categories"}),"\n",(0,r.jsx)(n.p,{children:"Cookies are organized into privacy-friendly categories:"}),"\n",(0,r.jsx)(n.h3,{id:"strict-necessary",children:"Strict Necessary"}),"\n",(0,r.jsx)(n.p,{children:"Required for the app to function. Typically no consent needed, but should be declared:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  name: 'Session Cookie',\n  host: '.example.com',\n  durationSeconds: 3600, // 1 hour\n  type: 'first_party',\n  category: 'strict_necessary',\n  description: {\n    en: 'Required for user authentication.',\n  },\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"functional-performance",children:"Functional Performance"}),"\n",(0,r.jsx)(n.p,{children:"Analytics, performance monitoring, and preferences:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  name: 'Sentry Error Reporting',\n  host: 'sentry.io',\n  durationSeconds: 31536000, // 1 year\n  type: 'third_party',\n  category: 'functional_performance',\n  description: {\n    en: 'Helps us fix errors and improve stability.',\n  },\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"targeting",children:"Targeting"}),"\n",(0,r.jsx)(n.p,{children:"Advertising and personalization:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  name: 'Google Analytics',\n  host: 'google-analytics.com',\n  durationSeconds: 63072000, // 2 years\n  type: 'third_party',\n  category: 'targeting',\n  description: {\n    en: 'Used for advertising and personalization.',\n  },\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"social-media-embedded",children:"Social Media Embedded"}),"\n",(0,r.jsx)(n.p,{children:"Social widgets and embedded content:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  name: 'Twitter Widget',\n  host: 'twitter.com',\n  durationSeconds: 31536000, // 1 year\n  type: 'third_party',\n  category: 'social_media_embedded',\n  description: {\n    en: 'Enables embedded Twitter content.',\n  },\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cookie-definition",children:"Cookie Definition"}),"\n",(0,r.jsx)(n.p,{children:"Each cookie definition includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"name"})})," (string, required): Display name for the cookie"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"host"})}),' (string, required): Host or domain the cookie belongs to (e.g., "sentry.io", ".example.com"). This is the unique key used for consent and feature gating.']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"durationSeconds"})})," (number, required): Cookie duration in seconds (e.g., 31536000 for 1 year)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"type"})}),' (string, required): Cookie type label (e.g., "first_party", "third_party", "http_only")']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"category"})})," (CookieConsentCategory, required): Privacy category"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"description"})})," (LocalizedString, optional): Description shown in consent/preferences UI"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"localized-descriptions",children:"Localized Descriptions"}),"\n",(0,r.jsx)(n.p,{children:"Cookie descriptions can be localized:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"{\n  name: 'Analytics Cookie',\n  host: 'analytics.example.com',\n  durationSeconds: 31536000,\n  type: 'third_party',\n  category: 'functional_performance',\n  description: {\n    en: 'Helps us understand how users interact with our app.',\n    fr: 'Nous aide \xe0 comprendre comment les utilisateurs interagissent avec notre application.',\n  },\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"consent-flow",children:"Consent Flow"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"First Visit"}),": User sees cookie consent modal on first visit"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Choice"}),": User can Accept All, Reject All, or Set Preferences"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Storage"}),": Consent choices are stored in user settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Feature Gating"}),": Use consent status to enable/disable features"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Renewal"}),": If new cookies are added, user is prompted again"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"checking-consent-status",children:"Checking Consent Status"}),"\n",(0,r.jsx)(n.p,{children:"Check if a cookie host has been accepted before enabling features:"}),"\n",(0,r.jsx)(n.h3,{id:"in-react-components",children:"In React Components"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useCookieConsent } from '@shellui/core';\n\nfunction MyComponent() {\n  const { isAccepted, needsConsent } = useCookieConsent('sentry.io');\n\n  useEffect(() => {\n    if (isAccepted) {\n      // Initialize Sentry\n      initSentry();\n    } else if (needsConsent) {\n      // Show consent prompt or disable feature\n      console.log('Sentry requires consent');\n    }\n  }, [isAccepted, needsConsent]);\n\n  return <div>...</div>;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"programmatically",children:"Programmatically"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { getCookieConsentAccepted } from '@shellui/core';\n\n// Check if a host is accepted\nconst isAccepted = getCookieConsentAccepted('sentry.io');\n\nif (isAccepted) {\n  // Enable feature\n  initSentry();\n} else {\n  // Feature is disabled\n  console.log('Sentry requires consent');\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsx)(n.p,{children:"Here's a complete cookie consent configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import type { ShellUIConfig } from '@shellui/core';\n\nconst config: ShellUIConfig = {\n  language: ['en', 'fr'],\n  cookieConsent: {\n    cookies: [\n      {\n        name: 'Session Cookie',\n        host: '.example.com',\n        durationSeconds: 3600,\n        type: 'first_party',\n        category: 'strict_necessary',\n        description: {\n          en: 'Required for user authentication and session management.',\n          fr: 'N\xe9cessaire pour l\\'authentification et la gestion de session.',\n        },\n      },\n      {\n        name: 'Sentry Error Reporting',\n        host: 'sentry.io',\n        durationSeconds: 31536000, // 1 year\n        type: 'third_party',\n        category: 'functional_performance',\n        description: {\n          en: 'Helps us fix errors and improve stability.',\n          fr: 'Nous aide \xe0 corriger les erreurs et \xe0 am\xe9liorer la stabilit\xe9.',\n        },\n      },\n      {\n        name: 'Google Analytics',\n        host: 'google-analytics.com',\n        durationSeconds: 63072000, // 2 years\n        type: 'third_party',\n        category: 'targeting',\n        description: {\n          en: 'Used for analytics and advertising.',\n          fr: 'Utilis\xe9 pour l\\'analyse et la publicit\xe9.',\n        },\n      },\n    ],\n  },\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cookie-preferences",children:"Cookie Preferences"}),"\n",(0,r.jsx)(n.p,{children:"Users can manage their cookie preferences:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Settings UI"}),": Settings > Data Privacy > Cookie Preferences"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Direct URL"}),": ",(0,r.jsx)(n.code,{children:"/cookie-preferences"})," (if configured)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"From Consent Modal"}),': Click "Set Preferences" button']}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The preferences view allows users to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"See all cookies by category"}),"\n",(0,r.jsx)(n.li,{children:"Toggle individual cookies on/off"}),"\n",(0,r.jsx)(n.li,{children:"Accept or reject all cookies"}),"\n",(0,r.jsx)(n.li,{children:"View cookie descriptions and durations"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"consent-renewal",children:"Consent Renewal"}),"\n",(0,r.jsx)(n.p,{children:"If you add new cookies to your configuration after a user has already consented, ShellUI will:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Detect new cookies (hosts not in ",(0,r.jsx)(n.code,{children:"consentedCookieHosts"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Show the consent modal again"}),"\n",(0,r.jsx)(n.li,{children:"Pre-fill with existing approvals"}),"\n",(0,r.jsx)(n.li,{children:"Allow users to approve new cookies while keeping existing choices"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This ensures users are always informed about new cookies while respecting their previous choices."}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Be transparent"}),": Provide clear descriptions of what each cookie does"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use appropriate categories"}),": Categorize cookies correctly for user understanding"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Gate features"}),": Always check consent before enabling features that use cookies"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Respect choices"}),": Honor user preferences - don't enable features without consent"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Localize descriptions"}),": Provide translations for all enabled languages"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Minimize cookies"}),": Only request consent for cookies you actually need"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"feature-gating-example",children:"Feature Gating Example"}),"\n",(0,r.jsx)(n.p,{children:"Here's how to gate a feature based on consent:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { useCookieConsent } from '@shellui/core';\nimport { initSentry } from './sentry';\n\nfunction App() {\n  const { isAccepted } = useCookieConsent('sentry.io');\n\n  useEffect(() => {\n    if (isAccepted) {\n      // Only initialize Sentry if consent is given\n      initSentry({\n        dsn: process.env.SENTRY_DSN,\n      });\n    }\n  }, [isAccepted]);\n\n  return <div>...</div>;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"privacy-compliance",children:"Privacy Compliance"}),"\n",(0,r.jsx)(n.p,{children:"ShellUI's cookie consent system helps you comply with:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GDPR"})," (General Data Protection Regulation)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CCPA"})," (California Consumer Privacy Act)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"ePrivacy Directive"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key features:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u2705 User consent before setting cookies"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Granular control per cookie"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Clear descriptions and categories"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Easy preference management"}),"\n",(0,r.jsx)(n.li,{children:"\u2705 Consent renewal for new cookies"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"related-guides",children:"Related Guides"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/features/internationalization",children:"Internationalization"})," - Localized cookie descriptions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/sdk",children:"SDK Integration"})," - Programmatic consent checking"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/sentry",children:"Sentry Integration"})," - Error reporting with consent"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);